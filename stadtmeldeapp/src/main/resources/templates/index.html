<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>CityCare</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../static/css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet" />
</head>
<body>
    <!-- Responsive navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container px-5">
            <a class="navbar-brand" href="#!">CityCare</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="#!" onclick="showSection('home')">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!" onclick="showSection('login')">Login</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!" onclick="showSection('ueber-uns')">Über uns</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!" onclick="showSection('kontakte')">Kontakt</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!" onclick="showSection('dienstleistungen')">Dienstleistungen</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Page Content-->

    <div id="content">
        <!-- Home -->
        <div id="home" class="container px-4 px-lg-5 mt-5">
            <!-- Heading Row-->
            <div class="row gx-4 gx-lg-5 align-items-center my-5">
                <div class="col-lg-7"><img class="img-fluid rounded mb-4 mb-lg-0" src="/images/streetdamage.jpeg"/></div>
                <div class="col-lg-5">
                    <h1 class="font-weight-light">CityCare - Deine Stadtmeldeapp</h1>
                    <p>CityCare ist deine Plattform, um Schäden, Vandalismus und andere Probleme in deiner Stadt zu melden und deren Bearbeitung durch die Stadtverwaltung zu verfolgen. Mit unserer benutzerfreundlichen App kannst du schnell und einfach Probleme wie defekte Straßenlaternen, Schlaglöcher oder Graffiti melden und ihre Bearbeitung durch die Stadtverwaltung verfolgen.</p>
                    <a class="btn btn-primary" href="#!">Mach mit!</a>
                </div>
            </div>
            <!-- Call to Action-->
            <div class="card text-white bg-secondary my-5 py-4 text-center">
                <div class="card-body"><p class="text-white m-0">Gemeinsam für ein sauberes Stadtbild!</p></div>
            </div>
            <!-- Content Row-->
            <div class="row gx-4 gx-lg-5">
                <div class="col-md-4 mb-5">
                    <div class="card h-100">
                        <div class="card-body">
                            <h2 class="card-title">Über CityCare</h2>
                            <p>CityCare wurde gegründet, um Bürgern eine einfache Möglichkeit zu bieten, Probleme in ihrer Stadt zu melden und deren Bearbeitung durch die Stadtverwaltung zu verfolgen. Unser Ziel ist es, Städte sicherer, sauberer und lebenswerter zu machen, indem wir eine effiziente Kommunikation zwischen Bürgern und Behörden fördern.</p>
                        </div>
                        <div class="card-footer"><a class="btn btn-primary btn-sm" href="#!" onclick="showSection('ueber-uns')">Mehr erfahren</a></div>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <div class="card h-100">
                        <div class="card-body">
                            <h2 class="card-title">Unsere Dienstleistungen</h2>
                            <p>CityCare bietet eine einfache und effektive Möglichkeit, Probleme in deiner Stadt zu melden und deren Bearbeitung durch die Stadtverwaltung zu verfolgen. Wir unterstützen dich dabei, Schäden, Vandalismus und andere Probleme zu dokumentieren und den Fortschritt ihrer Behebung zu verfolgen.</p>
                        </div>
                        <div class="card-footer"><a class="btn btn-primary btn-sm" href="#!" onclick="showSection('dienstleistungen')">Mehr erfahren</a></div>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <div class="card h-100">
                        <div class="card-body">
                            <h2 class="card-title">Kontaktiere uns</h2>
                            <p>Hast du Fragen, Feedback oder Anregungen? Wir stehen dir gerne zur Verfügung! Kontaktiere unser Support-Team per E-Mail oder Telefon, und wir werden uns so schnell wie möglich bei dir melden.</p>
                        </div>
                        <div class="card-footer"><a class="btn btn-primary btn-sm" href="#!" onclick="showSection('kontakte')">Kontaktieren</a></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Abschnitt -->
        <div id="login" class="container px-4 px-lg-5 min-vh-85" style="display: none;">
            <h2 class="text-center mt-5">Login</h2>
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <form id="loginForm" th:action="@{/auth/login}" method="post">
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="text" class="form-control" id="username" name="username" placeholder="Enter your username">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password">
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
            </div>
        </div>
        <script>
            document.getElementById("loginForm").addEventListener("submit", function(event) {
                event.preventDefault(); // Prevent form submission

                // Get the username and password values
                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;

                // Create a new XMLHttpRequest object
                var xhr = new XMLHttpRequest();

                // Set the request URL and method
                xhr.open("POST", "http://backendservice-dev-5rt6jcn4da-uc.a.run.app/auth/login", true);

                // Set the request headers
                xhr.setRequestHeader("Content-Type", "application/json");

                // Set the request body
                var requestBody = JSON.stringify({
                    "username": username,
                    "password": password
                });

                // Handle the response
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        // Login successful
                        // Set the Thymeleaf reference "UserLoggedIn" to true
                        /* BEGIN: ed8c6549bwf9 */
                        /* UserLoggedIn = true; */
                        /* END: ed8c6549bwf9 */
                        console.log("Login successful");
                    } else {
                        // Login failed
                        console.log("Login failed");
                    }
                };

                // Send the request
                xhr.send(requestBody);
            });
        </script>

        <!-- Über uns Abschnitt -->
        <div id="ueber-uns" class="container px-4 px-lg-5 min-vh-85" style="display: none;">
            <h2 class="text-center mt-5">Über uns</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <p class="lead">Erfahren Sie mehr über CityCare und unsere Mission, Bürger für positive Veränderungen zu ermächtigen.</p>
                    <p>CityCare ist eine Plattform, die sich der Förderung von Bürgerengagement und der Bewältigung städtischer Herausforderungen durch die Beteiligung der Bürger widmet.</p>
                </div>
            </div>
        </div>

        <!-- Dienstleistungen Abschnitt -->
        <div id="dienstleistungen" class="container px-4 px-lg-5 min-vh-85" style="display: none;">
            <h2 class="text-center mt-5">Unsere Dienstleistungen</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <p class="lead">Entdecken Sie die Vielfalt der von CityCare angebotenen Dienstleistungen, um Ihre Stadt zu verbessern.</p>
                    <ul>
                        <li>Melden und Verfolgen von städtischen Problemen</li>
                        <li>Gemeinschaftsforen und Diskussionen</li>
                        <li>Kollaborative Projekte und Initiativen</li>
                        <li>Stadtevents und Möglichkeiten zum ehrenamtlichen Engagement</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Footer-->
        <footer id="footer" class="py-5 bg-dark fixed-bottom">
            <div class="container px-4 px-lg-5"><p class="m-0 text-center text-white">Copyright &copy; CityCare 2024</p></div>
        </footer>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script type="text/javascript">
        function showSection(sectionId) {
            // Hide all sections within the content container
            var contentSections = document.querySelectorAll('#content > div');
            contentSections.forEach(function(section) {
                section.style.display = 'none';
            });

            // Show the selected section
            var selectedSection = document.getElementById(sectionId);
            selectedSection.style.display = 'block';

            // Check if the selected section is the home section
            if (sectionId === 'home') {
                document.getElementById('footer').classList.remove('fixed-bottom');
            } else {
                document.getElementById('footer').classList.add('fixed-bottom');
            }
        }
    </script>
</body>
</html>
